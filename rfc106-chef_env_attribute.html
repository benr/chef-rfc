<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable = no">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation-essential/6.2.2/css/foundation.min.css">
    <style>
      a { color: #f18b21; }
      a:hover, a:focus { color: #3f5364; }
    </style>
    <title>Chef RFCs</title>
  </head>
  <body>
    <div class="row medium-12 columns">
      <header class="clearfix">
        <div class="left">
          <a href="/chef-rfc"><h1>Chef RFCs</h1></a>
        </div>
      </header>
<h1>Exposing some core settings as attributes</h1>

<p>There are a number of settings, such as the node name and the environment, that we&#39;ve historically not exposed as automatic attributes.
The environment attribute is a bit more complicated in the world of
policy groups, and this RFC clarifies that situation too</p>

<h2>Motivation</h2>
<div class="highlight"><pre><span></span>As a system engineer,
I want to make decisions based on the environment or policy group of a node,
so that I get correct behaviour in my cookbooks.
</pre></div>
<h2>Specification</h2>

<p>We will expose the automatic attribute <code>name</code>, reflecting the name of
the node.</p>

<p>We will expose the automatic attribute <code>chef_environment</code>. In non-policy
setups, the attribute will expose the environment that the node is in.</p>

<p>In policy setups, it will expose the name of the policy group the node
is in. We will also ensure that <code>node.chef_environment</code> returns the same data. We&#39;ll also expose <code>policy_group</code> and <code>policy_name</code>, to go along with <code>policy_revision</code>.</p>

<h2>Downstream Impact</h2>

<p>Cookbooks will have easy access to more attributes.</p>

<h2>Copyright</h2>

<p>This work is in the public domain. In jurisdictions that do not allow for this,
this work is available under CC0. To the extent possible under law, the person
who associated CC0 with this work has waived all copyright and related or
neighboring rights to this work.</p>
    </div>
  </body>
</html>
